# vim: filetype=conf

set shell sh
set shellopts '-eu'
set ifs "\n"
set scrolloff 10
set icons
set drawbox
set ratios 1:2:3
set period 1
set previewer '~/.local/bin/preview'
set cleaner '~/.local/bin/preview-clean'

cmd open $launch -se $fx
map L &launch $fx

cmd bulk-rename $vidir

cmd mkdir %mkdir "$@"
cmd mkfile %touch "$@"

map m
map w

cmd imgs &{{
    # sxiv -oat . | while read -r img; do lf -remote "send $id toggle $img" done
    devour sxiv -oat .
}}

map <c-f> $lf -remote "send $id cd '$(fd -t d --strip-cwd-prefix | fzf)'"
map J $lf -remote "send $id cd $(awk '/^[^#]/ {print $2}' $SHORTCUT_DIR/directories | fzf)"
map <enter> shell
map s $$SHELL
map U clear
map <backspace2> set hidden!
map V :unselect; invert
map D delete
map mkd push :mkdir<space>
map mkf push :mkfile<space>
map x :imgs
map P &mpv .

map a rename # at the very end
map r push a<c-u> # new rename
map R push a<a-b><a-b><a-f><c-u> # keep ext
map i push a<c-a> # at the very beginning
map B bulk-rename

map ww $watched $f

source ~/.config/lf/lfshortcuts
