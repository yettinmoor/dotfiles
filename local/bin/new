#!/usr/bin/env sh
[ $# -lt 2 ] && echo "Usage: new <type> <name>\nAborted" && exit 1

EXT=$1
BOIL=~/.local/share/boilerplates/$EXT

FILE=$2

if [ -f "$BOIL" -a "$EXT" != "sh" ]; then DEST="$FILE.$BOIL"; else DEST="$FILE"; fi

[ -f "$DEST" ] && echo "File '$DEST' exists!" && exit 1

cp -rn $BOIL $DEST || echo "Error: '$1' not found."

if [ -d "$FILE" ]; then
    ./new.sh $FILE
    rm new.sh
fi
