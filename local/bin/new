#!/usr/bin/env sh
[ $# -lt 2 ] && echo "Usage: new <type> <name>\nAborted" && exit 1

BOIL=~/.local/share/boilerplates/$1

if [ -f "$BOIL" ]; then DEST="$2.$1"; else DEST="$2"; fi

[ -f "$DEST" ] && echo "File '$DEST' exists!" && exit 1

cp -rn $BOIL $DEST || echo "Error: '$1' not found."

if [ -d "$2" ]; then
    ./new.sh $2
    rm new.sh
fi
